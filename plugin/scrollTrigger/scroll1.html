<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>scroll</title>
    <style>
        .bg {
            height: 800px; width: 100%; font-size: 10rem; color: #fff;
            background-size: cover;
            background-position: center;
        }
        .bg1 {background-image: url(https://images.unsplash.com/photo-1501472393568-6d98729ac121?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D);}
        .bg2 {background-image: url(https://images.unsplash.com/photo-1612006323037-31d556f4a215?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxleHBsb3JlLWZlZWR8MTV8fHxlbnwwfHx8fHw%3D);}
        .bg3 {background-image: url(https://images.unsplash.com/photo-1532373213958-5156f1836b37?q=80&w=2048&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D);}
        .bg4 {background-image: url(https://images.unsplash.com/photo-1543224977-42a74a052ce0?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D);}
    
        .design1 {
            font-weight: 800; color: #f00  !important;
            transform: scale(1.2); transform: translateX(100px);
        }
    </style>
</head>
<body>
    <h1>scrollTrigger-javascript plugin</h1>
    <dl>
        <dt>스크롤 트리거란?</dt>
        <dd>javascript window.scroll, offsetTop, getBoundingClientRect 등의 스크롤 함수를 이용한 동적 애니메이션을 십게 만들 수 있게 제작된 자바스크립트 플러그인 종류 중 하나이다.</dd>
        <dd>사용하기 위해서는 관련 CDN을 반드시 연결하고 이용해야한다.</dd>
    </dl>
    <div class="bg bg1"><h2>1</h2></div>
    <div class="bg bg2"><h2>2</h2></div>
    <div class="bg bg3"><h2>3</h2></div>
    <div class="bg bg4"><h2>4</h2></div>
    <!-- 스크롤 트리거 CDN(필수 연결) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>
    <script>

        // scrollTrigger 기본문법
        // gsap.to('적용대상',{scrollTrigger:'뷰포트(보이는것)대상',애니메이션속성:값, 속성:값})
        // gsap.to('.bg2 h2',{
        //     scrollTrigger:'.bg2',
        //     duration:2,
        //     x:300,
        //     y:100,
        //     opacity:0.5,
        //     scale:0.9,
        //     rotate:-25,
        // })

        // gsap.to('.bg1 h2',{
        //     scrollTrigger:'.bg1',
        //     x:500,
        //     y:500,
        //     toggleActions: "restart pause reverse pause",
        //     opacity: 1,
        // })

        // scrollTrigger 기본문법2. 시작과 끝 설정
        // gsap.fromTo('적용대상',{from시작속서ㅇ:값},{To끝속성:값})
        // scrollTrigger 속성은 To에 들어간다.
        // gsap.fromTo('.bg2 h2',{
        //     opacity:0,
        // },{
        //     scrollTrigger:'.bg2',
        //     duration:1,
        //     delay:0.5,
        //     opacity:1,
        //     repeat :5,
        // })

        const bg_h2 = document.querySelectorAll('.bg h2')
        console.log(bg_h2)

        // for(let i of bg_h2){
        //     gsap.to(i,{
        //         scollTrigger:i.parentNode,
        //         duration:1,
        //         delay:0.5,
        //         opacity:0.5,
        //         x:300
        //     })
        // }

        // for(let i of bg_h2){
        //     gsap.fromTo(i,{
        //         opacity:0
        //     },{
        //         scrollTrigger:i.parentElement,
        //         repeat:10,
        //         opacity:1
        //     })
        // }

        // scrollTrigger 기본문법3. 자바스크립트와 다양한 연동방법
        // ScrollTrigger.create({trigger:'대상', 속성:값, 속성:값,})
        ScrollTrigger.create({
            trigger:'.bg2 h2',
            duration:1,
            opacity:0.5,
            start:'0 30%',
            markers:true,
            onEnter:()=>bg_h2[1].classList.add('design1') //트리거가 시작했을때 진입하려할때
        })

        ScrollTrigger.create({
            trigger:'.bg h2',
            opacity:0.5,
            repeat:6,
            markers:true,
            onEnter:()=>bg_h2[2].classList.add('design1')
        })
    </script>
</body>
</html>